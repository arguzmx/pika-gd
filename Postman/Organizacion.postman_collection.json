{
	"info": {
		"_postman_id": "57104d72-e8b1-403f-87bf-905289e1e002",
		"name": "Organizacion",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Dominio",
			"item": [
				{
					"name": "POST Dominio",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n \t\"nombre\": \"Dominio Para borrar 2\",\n\t\"TipoOrigenId\": \"global\",\n\t\"OrigenId\": \"global\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/dominio",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"dominio"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT Dominio",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n\t\"id\": \"ca7a1c1a-46f4-4f6d-a13e-9907f34397c9\",\n\t\"nombre\": \"Nombre cambiado\",\n\t\"TipoOrigenId\": \"global\",\n\t\"OrigenId\": \"global\"\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/dominio/ca7a1c1a-46f4-4f6d-a13e-9907f34397c9",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"dominio",
								"ca7a1c1a-46f4-4f6d-a13e-9907f34397c9"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Metadata Dominio",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/dominio/metadata",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"dominio",
								"metadata"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Dominio",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/dominio/dominio9",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"dominio",
								"dominio9"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET PAGE Dominio",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/dominio/page?i=0&t=10&ordc=Nombre&ordd=asc&f[0][p]=Nombre&f[0][o]=contains&f[0][v]=1",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"dominio",
								"page"
							],
							"query": [
								{
									"key": "i",
									"value": "0"
								},
								{
									"key": "t",
									"value": "10"
								},
								{
									"key": "ordc",
									"value": "Nombre"
								},
								{
									"key": "ordd",
									"value": "asc"
								},
								{
									"key": "f[0][p]",
									"value": "Nombre"
								},
								{
									"key": "f[0][o]",
									"value": "contains"
								},
								{
									"key": "f[0][v]",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE Dominio",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/dominio/1,2,3,25e80da5-96d4-4fb5-8328-4596a4f41042,,,",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"dominio",
								"1,2,3,25e80da5-96d4-4fb5-8328-4596a4f41042,,,"
							]
						}
					},
					"response": []
				},
				{
					"name": "PATCH  Restaurar Dominio",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n\t[\n\t\"ca7a1c1a-46f4-4f6d-a13e-9907f34397c9\",\n\t\"a\",\n\t\"b\"\n\t]\n",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/dominio/restaurar/1,2,3",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"dominio",
								"restaurar",
								"1,2,3"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "d6d13687-67c3-4321-939f-e2a528c4d8a1",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "a641da24-a51d-4375-97a7-5a53fae94671",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Roles",
			"item": [
				{
					"name": "POST Rol",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Nombre\": \"Rol 6668\",\r\n    \"Descripcion\": \"Ejmeplo de mi descripción\",\r\n    \"OrigenId\": \"dominio\",\r\n    \"TipoOrigenId\": \"dominio\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/rol",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT Rol",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Id\": \"rol0\",\r\n    \"Nombre\": \"Rol de ejemplo\",\r\n    \"Descripcion\": \"Mi descripción\",\r\n    \"TipoOrigenId\": \"dominio\",\r\n    \"OrigenId\": \"dominio\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/rol/rol0",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol",
								"rol0"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Metadata Rol",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://localhost:5001/api/v1.0/org/rol/metadata",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol",
								"metadata"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Rol",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/rol/rol0",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol",
								"rol0"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET PAGE Roles",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/rol/page?i=0&t=10&ordc=Nombre&ordd=asc&f[0]",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol",
								"page"
							],
							"query": [
								{
									"key": "i",
									"value": "0"
								},
								{
									"key": "t",
									"value": "10"
								},
								{
									"key": "ordc",
									"value": "Nombre"
								},
								{
									"key": "ordd",
									"value": "asc"
								},
								{
									"key": "f[0]",
									"value": null
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE Rol",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n\t[\n\t\"rol2\",\n\t\"f5857944-0ab1-4045-aadf-520cff0406fb\",\n\t\"fb0136fd-62a1-4b41-b868-3da5f25df805\"\n\t]\n",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/rol",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST Vincular usuario a Rol",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n\t[\n\t\"u1\",\n\t\"u2\",\n\t\"u3\"\n\t]\n",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/rol/vincular/rol10",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol",
								"vincular",
								"rol10"
							]
						}
					},
					"response": []
				},
				{
					"name": "POST Desvincular usuario de Rol",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n\t[\n\t\"u1\"\n\t]\n",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/rol/desvincular/rol10",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"rol",
								"desvincular",
								"rol10"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "401e2cf2-2e31-4dbe-b820-531c4ac7f55b",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "3bff0282-ef80-4d0c-b088-f1680beb6430",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "Unidad Organizacional",
			"item": [
				{
					"name": "POST Unidad Organizacional",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Id\": \"\",\r\n    \"Nombre\": \"Unidad Demo\",\r\n    \"DominioId\": \"dominio1\"\r\n}",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://localhost:5001/api/v1.0/org/unidadorganizacional",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"v1.0",
								"org",
								"unidadorganizacional"
							]
						}
					},
					"response": []
				},
				{
					"name": "PUT Unidad Organizacional",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "       {\r\n            \"Id\": \"a6eedfa8-293c-4214-b0be-ee323eafe54e\",\r\n            \"Nombre\": \"Unidad Demo 44\",\r\n            \"Eliminada\": false,\r\n            \"DominioId\": \"dominio0\"\r\n        }",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://localhost:5001/api/v1.0/org/unidadorganizacional/a6eedfa8-293c-4214-b0be-ee323eafe54e",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"v1.0",
								"org",
								"unidadorganizacional",
								"a6eedfa8-293c-4214-b0be-ee323eafe54e"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Metadata Unidad Organizacional",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://localhost:5001/api/v1.0/org/unidadorganizacional/metadata",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"v1.0",
								"org",
								"unidadorganizacional",
								"metadata"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET Unidad organizacional",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "https://localhost:5001/api/v1.0/org/unidadorganizacional/uo12dominio0",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"v1.0",
								"org",
								"unidadorganizacional",
								"uo12dominio0"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET PAGE Unidades organizacionales",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700",
								"disabled": true
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/unidadorganizacional/page?i=-1&t=10&ordc=&ordd=&f[0][p]=Eliminada&f[0][o]=eq&f[0][v]=false",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"unidadorganizacional",
								"page"
							],
							"query": [
								{
									"key": "i",
									"value": "-1"
								},
								{
									"key": "t",
									"value": "10"
								},
								{
									"key": "ordc",
									"value": ""
								},
								{
									"key": "ordd",
									"value": ""
								},
								{
									"key": "f[0][p]",
									"value": "Eliminada"
								},
								{
									"key": "f[0][o]",
									"value": "eq"
								},
								{
									"key": "f[0][v]",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "DELETE Unidad Organizacional",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n\t[\n\t\"b9352cf2-dee0-4258-b9c8-93e1bc837182\",\n\t\"a\",\n\t\"b\"\n\t]\n",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://localhost:5001/api/v1.0/org/unidadorganizacional/",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"v1.0",
								"org",
								"unidadorganizacional",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "PATCH  Restaurar Unidad Organizacional",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "\n\t[\n\t\"b9352cf2-dee0-4258-b9c8-93e1bc837182\",\n\t\"a\",\n\t\"b\"\n\t]\n",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "https://localhost:5001/api/v1.0/org/unidadorganizacional/restaurar",
							"protocol": "https",
							"host": [
								"localhost"
							],
							"port": "5001",
							"path": [
								"api",
								"v1.0",
								"org",
								"unidadorganizacional",
								"restaurar"
							]
						}
					},
					"response": []
				},
				{
					"name": "GET PAGE Unidades organizacionales de Dominio",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "uid",
								"type": "text",
								"value": "9b5ac73d-41a2-497d-beb4-246fe889a700"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {}
							}
						},
						"url": {
							"raw": "http://localhost:5000/api/v1.0/org/UnidadOrganizacional/page/dominio/dominio0?i=0&t=10&ordc=Nombre&ordd=asc&f[0][p]=Nombre&f[0][o]=contains&f[0][v]=d",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "5000",
							"path": [
								"api",
								"v1.0",
								"org",
								"UnidadOrganizacional",
								"page",
								"dominio",
								"dominio0"
							],
							"query": [
								{
									"key": "i",
									"value": "0"
								},
								{
									"key": "t",
									"value": "10"
								},
								{
									"key": "ordc",
									"value": "Nombre"
								},
								{
									"key": "ordd",
									"value": "asc"
								},
								{
									"key": "f[0][p]",
									"value": "Nombre"
								},
								{
									"key": "f[0][o]",
									"value": "contains"
								},
								{
									"key": "f[0][v]",
									"value": "d"
								}
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "700b64f9-447b-4361-b52b-0226ceb8d617",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "0ac88619-2ca5-4e48-81af-9834ae73e3dd",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{accessToken}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "9d909c0d-d26f-4f55-a8bb-2b67073974ec",
				"type": "text/javascript",
				"exec": [
					"const echoPostRequest = {",
					"  url: 'http://localhost:4000/connect/token',",
					"  method: 'POST',",
					"  header: 'Content-Type:application/x-www-form-urlencoded',",
					"  body: {",
					"    mode: 'raw',",
					"    raw: 'grant_type=password&username=bob&password=Pass123%24&scope=openid%20pika-gd&client_id=api-pika-gd-pass&client_secret=secret'",
					"  }",
					"};",
					"",
					"var getToken = true;",
					"",
					"if (!pm.environment.get('accessTokenExpiry') || ",
					"    !pm.environment.get('accessToken')) {",
					"    console.log('Token or expiry date are missing')",
					"} else if (pm.environment.get('accessTokenExpiry') <= (new Date()).getTime()) {",
					"    console.log('Token is expired')",
					"} else {",
					"    getToken = false;",
					"    console.log('Token and expiry date are all good');",
					"}",
					"",
					"if (getToken === true) {",
					"    pm.sendRequest(echoPostRequest, function (err, res) {",
					"    console.log(err ? err : res.json());",
					"        if (err === null) {",
					"            console.log('Saving the token and expiry date')",
					"            var responseJson = res.json();",
					"            pm.environment.set('accessToken', responseJson.access_token)",
					"    ",
					"            var expiryDate = new Date();",
					"            expiryDate.setSeconds(expiryDate.getSeconds() + responseJson.expires_in);",
					"            pm.environment.set('accessTokenExpiry', expiryDate.getTime());",
					"        }",
					"    });",
					"}",
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "af595280-49c4-4a00-ab28-1f4a44c1e078",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "6768cb65-fa22-474b-a76b-987d000c4361",
			"key": "accessTokenExpiry",
			"value": "",
			"type": "string"
		},
		{
			"id": "e0c08fe9-2605-49d7-9dba-5f04565f96b1",
			"key": "accessToken",
			"value": "",
			"type": "string"
		}
	],
	"protocolProfileBehavior": {}
}